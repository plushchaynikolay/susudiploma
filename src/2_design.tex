\section{ПРОЕКТИРОВАНИЕ}
    \subsection{Концептуальная модель обработки сообщений}
    Процесс обработки сообщения можно разделить на несколько этапов.
    \begin{enumerate}
        \item Получение сообщения через интерфейс (IMAP, LongPoll Вконтакте, Телеграм-api, json-файл из POST-запроса)
        \item Извлечение необходимых полей из инородной структуры данных и преобразование в обьект-сообщение внутреннего типа
        \item Классификация сообщения
        \item Формирование ответов на сообщение
        \item Отправка ответов обратно через внешний интерфейс пользователю
        \item Сохранение всех сообщений в базу
        \item Выполнение дополнительных действий (запрос обратной связи от пользователя, уведомления и прочее)
    \end{enumerate}

    Таким образом, за каждый из этапов обработки сообщения отвечать будет свой отдельный объект,
    а их взаимодействие будет происходить при переходе от одного этапа к другому.
    
    \subsubsection{ApiWorker}
    Объект, ответственный за первый этап - \textit{ApiWorker}

    Диаграмма процесса обработки сообщения представлена на рисунке ниже.
    \begin{figure}[!h]
        \centering
        % \includegraphics[width=\linewidth]{}
        \caption{Функциональная схема исходного проекта}
        \label{fig:func-schema-before}
    \end{figure}
    
    Диаграмма классов представлена на рисунке ниже.
    \begin{figure}[!h]
        \centering
        % \includegraphics[width=\linewidth]{}
        \caption{Функциональная схема исходного проекта}
        \label{fig:func-schema-before}
    \end{figure}
